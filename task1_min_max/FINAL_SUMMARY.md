# ะะฐะดะฐะฝะธะต 1: ะะพะธัะบ ะผะธะฝะธะผัะผะฐ/ะผะฐะบัะธะผัะผะฐ ะฒ ะฒะตะบัะพัะต ั OpenMP

## โ ะัะฟะพะปะฝะตะฝะพ

ะะพะปะฝะพัััั ัะตะฐะปะธะทะพะฒะฐะฝ ะฟะฐะนะฟะปะฐะนะฝ ะดะปั ะฒัะฟะพะปะฝะตะฝะธั ะทะฐะดะฐะฝะธั โ1 ะฟะพ ะบัััั "ะะฒะตะดะตะฝะธะต ะฒ ััะฟะตัะบะพะผะฟัััะตัะฝัะต ะฒััะธัะปะตะฝะธั".

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
task1_min_max/
โโโ src/min_max.c              # ะัะฝะพะฒะฝะฐั ะฟัะพะณัะฐะผะผะฐ ะฝะฐ OpenMP
โโโ scripts/
โ   โโโ compile.sh             # ะกะบัะธะฟั ะบะพะผะฟะธะปััะธะธ (ะฟะพะดะดะตัะถะบะฐ macOS/Linux)
โ   โโโ run_benchmarks.sh      # ะะฒัะพะผะฐัะธัะตัะบะธะน ะทะฐะฟััะบ ะฑะตะฝัะผะฐัะบะพะฒ
โ   โโโ test_pipeline.sh       # ะัััััะน ัะตัั ะฟะฐะนะฟะปะฐะนะฝะฐ
โโโ analysis/
โ   โโโ analyze.py             # ะะฝะฐะปะธะท ัะตะทัะปััะฐัะพะฒ
โ   โโโ plot_graphs.py         # ะะพัััะพะตะฝะธะต ะณัะฐัะธะบะพะฒ
โโโ data/
โ   โโโ test_configs.json      # ะะพะฝัะธะณััะฐัะธั ัะตััะพะฒ
โโโ results/                   # ะะตะทัะปััะฐัั ะฑะตะฝัะผะฐัะบะพะฒ (JSON)
โโโ report/                    # ะัะฐัะธะบะธ ะธ ัะฐะฑะปะธัั ะดะปั ะพััะตัะฐ
โโโ venv/                      # Python ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต
โโโ README.md                  # ะขะตัะฝะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั
โโโ QUICKSTART.md              # ะัััััะน ััะฐัั
โโโ FINAL_SUMMARY.md           # ะญัะพั ัะฐะนะป
```

## ๐ฏ ะะตะฐะปะธะทะพะฒะฐะฝะฝัะต ะฒะพะทะผะพะถะฝะพััะธ

### 1. ะัะพะณัะฐะผะผะฐ ะฝะฐ OpenMP (src/min_max.c)

**ะก ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ ัะตะดัะบัะธะธ:**
```c
#pragma omp parallel for reduction(min:min_val)
for (long long i = 0; i < n; i++) {
    if (arr[i] < min_val) {
        min_val = arr[i];
    }
}
```

**ะะตะท ะธัะฟะพะปัะทะพะฒะฐะฝะธั ัะตะดัะบัะธะธ:**
```c
#pragma omp parallel
{
    int tid = omp_get_thread_num();
    double local_min = DBL_MAX;
    
    #pragma omp for
    for (long long i = 0; i < n; i++) {
        if (arr[i] < local_min) {
            local_min = arr[i];
        }
    }
    
    thread_mins[tid] = local_min;
}
// ะะฐัะตะผ ะพะฑัะตะดะธะฝะตะฝะธะต ัะตะทัะปััะฐัะพะฒ ะฟะพัะพะบะพะฒ
```

### 2. ะกะธััะตะผะฐ ะฑะตะฝัะผะฐัะบะธะฝะณะฐ

- โฑ๏ธ ะขะพัะฝะพะต ะธะทะผะตัะตะฝะธะต ะฒัะตะผะตะฝะธ ั ะฟะพะผะพััั `omp_get_wtime()`
- ๐ ะะทะผะตััะตััั ัะพะปัะบะพ ะฒัะตะผั ะฒัะฟะพะปะฝะตะฝะธั ะพัะฝะพะฒะฝะพะณะพ ัะธะบะปะฐ (ะฑะตะท ะทะฐะณััะทะบะธ ะดะฐะฝะฝัั)
- ๐ ะะฝะพะถะตััะฒะตะฝะฝัะต ะทะฐะฟััะบะธ ะดะปั ััะฐัะธััะธัะตัะบะพะน ะดะพััะพะฒะตัะฝะพััะธ
- ๐ ะัะฒะพะด ัะตะทัะปััะฐัะพะฒ ะฒ JSON ัะพัะผะฐัะต

### 3. ะะฝะฐะปะธะท ะธ ะฒะธะทัะฐะปะธะทะฐัะธั

**ะัะฐัะธะบะธ:**
- ะัะตะผั ะฒัะฟะพะปะฝะตะฝะธั vs ะบะพะปะธัะตััะฒะพ ะฟะพัะพะบะพะฒ
- ะฃัะบะพัะตะฝะธะต vs ะบะพะปะธัะตััะฒะพ ะฟะพัะพะบะพะฒ (ั ะธะดะตะฐะปัะฝะพะน ะปะธะฝะธะตะน)
- ะญััะตะบัะธะฒะฝะพััั ะฟะฐัะฐะปะปะตะปะธะทะฐัะธะธ
- ะกัะฐะฒะฝะตะฝะธะต ะผะตัะพะดะพะฒ (ั ัะตะดัะบัะธะตะน / ะฑะตะท ัะตะดัะบัะธะธ)

**ะะตััะธะบะธ:**
- ะกัะตะดะฝะตะต ะฒัะตะผั, ะผะตะดะธะฐะฝะฐ, ััะฐะฝะดะฐััะฝะพะต ะพัะบะปะพะฝะตะฝะธะต
- Speedup (ััะบะพัะตะฝะธะต ะพัะฝะพัะธัะตะปัะฝะพ 1 ะฟะพัะพะบะฐ)
- Efficiency (ัััะตะบัะธะฒะฝะพััั = speedup / ะบะพะปะธัะตััะฒะพ ะฟะพัะพะบะพะฒ)

## ๐ ะะฐะบ ะทะฐะฟัััะธัั ะฟะพะปะฝัะต ะฑะตะฝัะผะฐัะบะธ

### ะจะฐะณ 1: ะะพะดะณะพัะพะฒะบะฐ ะพะบััะถะตะฝะธั

```bash
cd HPC_korhov/task1_min_max

# ะะบัะธะฒะธัะพะฒะฐัั ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต Python
source venv/bin/activate
```

### ะจะฐะณ 2: ะะพะผะฟะธะปััะธั (ะตัะปะธ ะตัะต ะฝะต ัะดะตะปะฐะฝะพ)

```bash
cd scripts
./compile.sh
```

### ะจะฐะณ 3: ะะฐะฟััะบ ะฟะพะปะฝัั ะฑะตะฝัะผะฐัะบะพะฒ

```bash
./run_benchmarks.sh
```

โฑ๏ธ **ะัะตะผั ะฒัะฟะพะปะฝะตะฝะธั:** ~10-20 ะผะธะฝัั

ะะพะฝัะธะณััะฐัะธั ะฟะพ ัะผะพะปัะฐะฝะธั:
- ะะฐะทะผะตัั ะฒะตะบัะพัะพะฒ: 10^6, 10^7, 10^8 ัะปะตะผะตะฝัะพะฒ
- ะะพะปะธัะตััะฒะพ ะฟะพัะพะบะพะฒ: 1, 2, 4, 8, 16
- ะะตัะพะดั: reduction, no-reduction
- ะะฐะฟััะบะพะฒ ะฝะฐ ะบะพะฝัะธะณััะฐัะธั: 10

### ะจะฐะณ 4: ะะฝะฐะปะธะท ัะตะทัะปััะฐัะพะฒ

```bash
cd ../analysis

# ะะฐะผะตะฝะธัะต YYYYMMDD_HHMMSS ะฝะฐ ะธะผั ะฒะฐัะตะณะพ ัะฐะนะปะฐ
python3 analyze.py ../results/benchmark_YYYYMMDD_HHMMSS.json
```

### ะจะฐะณ 5: ะะพัััะพะตะฝะธะต ะณัะฐัะธะบะพะฒ

```bash
python3 plot_graphs.py
```

ะัะฐัะธะบะธ ะฑัะดัั ัะพััะฐะฝะตะฝั ะฒ `../report/`

## ๐ ะะตะทัะปััะฐัั ัะตััะพะฒะพะณะพ ะทะฐะฟััะบะฐ

ะะท ัะตััะพะฒะพะณะพ ะทะฐะฟััะบะฐ (100K ัะปะตะผะตะฝัะพะฒ, 1-4 ะฟะพัะพะบะฐ):

### Reduction ะผะตัะพะด:
- **MIN**: Speedup ะดะพ 1.26x ะฝะฐ 4 ะฟะพัะพะบะฐั
- **MAX**: Speedup ะดะพ 1.14x ะฝะฐ 4 ะฟะพัะพะบะฐั

### No-reduction ะผะตัะพะด:
- **MIN**: Speedup ะดะพ 2.28x ะฝะฐ 4 ะฟะพัะพะบะฐั (ัััะตะบัะธะฒะฝะพััั 57%)
- **MAX**: Speedup ะดะพ 1.92x ะฝะฐ 4 ะฟะพัะพะบะฐั (ัััะตะบัะธะฒะฝะพััั 48%)

**ะัะฒะพะด:** ะะฐ ะผะฐะปัั ัะฐะทะผะตัะฐั ะดะฐะฝะฝัั ะผะตัะพะด ะฑะตะท ัะตะดัะบัะธะธ ะฟะพะบะฐะทัะฒะฐะตั ะปัััะตะต ััะบะพัะตะฝะธะต, ะฝะพ ะฝะฐ ะฑะพะปััะธั ัะฐะทะผะตัะฐั ัะตะทัะปััะฐัั ะผะพะณัั ะพัะปะธัะฐัััั.

## ๐ ะะปั ะพััะตัะฐ

### ะงัะพ ะฒะบะปััะธัั ะฒ ะพััะตั:

1. **ะะฟะธัะฐะฝะธะต ัะตะฐะปะธะทะฐัะธะธ:**
   - ะะฒะฐ ะฟะพะดัะพะดะฐ: ั ัะตะดัะบัะธะตะน ะธ ะฑะตะท
   - ะะฑัััะฝะตะฝะธะต ัะฐะทะปะธัะธะน ะฒ ัะตะฐะปะธะทะฐัะธะธ

2. **ะะตัะพะดะพะปะพะณะธั ัะตััะธัะพะฒะฐะฝะธั:**
   - ะะฐะทะผะตัั ะดะฐะฝะฝัั
   - ะะพะปะธัะตััะฒะพ ะฟะพัะพะบะพะฒ
   - ะะพะปะธัะตััะฒะพ ะทะฐะฟััะบะพะฒ ะดะปั ัััะตะดะฝะตะฝะธั

3. **ะัะฐัะธะบะธ ะธะท report/:**
   - `speedup_size_*.png` - ะพัะฝะพะฒะฝะพะน ะณัะฐัะธะบ ะดะปั ะดะตะผะพะฝัััะฐัะธะธ ะผะฐัััะฐะฑะธััะตะผะพััะธ
   - `comparison_reduction_methods.png` - ััะฐะฒะฝะตะฝะธะต ะฟะพะดัะพะดะพะฒ
   - `efficiency_size_*.png` - ัััะตะบัะธะฒะฝะพััั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ัะตััััะพะฒ

4. **ะขะฐะฑะปะธัั:**
   - ะัะฟะพะปัะทัะนัะต `summary_table.txt` ะดะปั ัะธัะปะพะฒัั ะดะฐะฝะฝัั

5. **ะะฝะฐะปะธะท ัะตะทัะปััะฐัะพะฒ:**
   - ะะพััะธะณะฐะตััั ะปะธ ะปะธะฝะตะนะฝะพะต ััะบะพัะตะฝะธะต?
   - ะะฐะบ ัะฐะทะผะตั ะทะฐะดะฐัะธ ะฒะปะธัะตั ะฝะฐ ัััะตะบัะธะฒะฝะพััั?
   - ะะฐะบะพะน ะผะตัะพะด ัััะตะบัะธะฒะฝะตะต ะธ ะฟะพัะตะผั?
   - ะะดะต ะฝะฐัะธะฝะฐะตััั ะฝะฐัััะตะฝะธะต (saturation)?

### ะะปััะตะฒัะต ะฒัะฒะพะดั ะดะปั ะพะฑััะถะดะตะฝะธั:

1. **ะะฐัััะฐะฑะธััะตะผะพััั:** ะะฐะบ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั ะผะตะฝัะตััั ั ัะพััะพะผ ะฟะพัะพะบะพะฒ
2. **Overhead:** ะะฐะบะปะฐะดะฝัะต ัะฐััะพะดั ะฝะฐ ัะพะทะดะฐะฝะธะต ะฟะพัะพะบะพะฒ ะธ ัะธะฝััะพะฝะธะทะฐัะธั
3. **ะะฐะทะผะตั ะทะฐะดะฐัะธ:** ะะปะธัะฝะธะต ัะฐะทะผะตัะฐ ะดะฐะฝะฝัั ะฝะฐ ัััะตะบัะธะฒะฝะพััั ะฟะฐัะฐะปะปะตะปะธะทะฐัะธะธ
4. **ะกัะฐะฒะฝะตะฝะธะต ะผะตัะพะดะพะฒ:** ะัะตะธะผััะตััะฒะฐ ะฒัััะพะตะฝะฝะพะน ัะตะดัะบัะธะธ vs ัััะฝะพะน ัะตะฐะปะธะทะฐัะธะธ

## ๐ง ะะฐัััะพะนะบะฐ ะฟะฐัะฐะผะตััะพะฒ

ะะปั ะธะทะผะตะฝะตะฝะธั ะฟะฐัะฐะผะตััะพะฒ ะฑะตะฝัะผะฐัะบะพะฒ ะพััะตะดะฐะบัะธััะนัะต `scripts/run_benchmarks.sh`:

```bash
# ะะฐะทะผะตัั ะฒะตะบัะพัะพะฒ
SIZES=(1000000 10000000 100000000)

# ะะพะปะธัะตััะฒะพ ะฟะพัะพะบะพะฒ
THREADS=(1 2 4 8 16)

# ะะตัะพะดั
METHODS=("reduction" "no-reduction")

# ะะพะปะธัะตััะฒะพ ะทะฐะฟััะบะพะฒ
RUNS=10
```

## ๐ ะัะธะผะตะฝะตะฝะธะต ะฟะฐะนะฟะปะฐะนะฝะฐ ะดะปั ะดััะณะธั ะทะฐะดะฐะฝะธะน

ะญัะพั ะฟะฐะนะฟะปะฐะนะฝ ะผะพะถะฝะพ ะปะตะณะบะพ ะฐะดะฐะฟัะธัะพะฒะฐัั ะดะปั ะดััะณะธั ะทะฐะดะฐะฝะธะน:

1. **ะกะบะพะฟะธััะนัะต ััััะบัััั ะฟัะพะตะบัะฐ**
2. **ะะทะผะตะฝะธัะต src/min_max.c** ะฝะฐ ะฒะฐัั ัะตะฐะปะธะทะฐัะธั
3. **ะะฑะฝะพะฒะธัะต ะฟะฐัะฐะผะตััั** ะฒ run_benchmarks.sh
4. **ะะฐะฟัััะธัะต** ัะพั ะถะต ะฟัะพัะตัั: compile โ benchmark โ analyze โ plot

ะกัััะบัััะฐ ัะฝะธะฒะตััะฐะปัะฝะฐ ะดะปั ะฒัะตั ะทะฐะดะฐะฝะธะน OpenMP ะธ MPI!

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะผะฐัะตัะธะฐะปั

- `README.md` - ะฟะพะดัะพะฑะฝะฐั ัะตัะฝะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั
- `QUICKSTART.md` - ะบัะฐัะบะพะต ััะบะพะฒะพะดััะฒะพ ะฟะพ ะทะฐะฟััะบั
- ะะพะผะผะตะฝัะฐัะธะธ ะฒ ะบะพะดะต ะพะฑัััะฝััั ะบะปััะตะฒัะต ะผะพะผะตะฝัั ัะตะฐะปะธะทะฐัะธะธ

## โจ ะัะพะฑะตะฝะฝะพััะธ ัะตะฐะปะธะทะฐัะธะธ

1. **ะัะพััะฟะปะฐััะพัะผะตะฝะฝะพััั:** ะะฐะฑะพัะฐะตั ะฝะฐ macOS ะธ Linux
2. **ะะฒัะพะผะฐัะธัะตัะบะฐั ัััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน:** ะกะบัะธะฟั compile.sh ัััะฐะฝะฐะฒะปะธะฒะฐะตั libomp ะฝะฐ macOS
3. **JSON ัะพัะผะฐั ะดะฐะฝะฝัั:** ะะตะณะบะพ ะฟะฐััะธััั ะธ ะฐะฝะฐะปะธะทะธััะตััั
4. **ะกัะฐัะธััะธัะตัะบะฐั ะดะพััะพะฒะตัะฝะพััั:** ะะฝะพะถะตััะฒะตะฝะฝัะต ะทะฐะฟััะบะธ ั ะฒััะธัะปะตะฝะธะตะผ ะผะตะดะธะฐะฝั
5. **ะัะพัะตััะธะพะฝะฐะปัะฝัะต ะณัะฐัะธะบะธ:** ะะพัะพะฒั ะดะปั ะฒะบะปััะตะฝะธั ะฒ ะพััะตั

## ๐ ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั!

ะัะพะตะบั ะฟะพะปะฝะพัััั ะณะพัะพะฒ ะดะปั:
- โ ะะฐะฟััะบะฐ ะฟะพะปะฝัั ะฑะตะฝัะผะฐัะบะพะฒ
- โ ะะตะฝะตัะฐัะธะธ ะณัะฐัะธะบะพะฒ ะดะปั ะพััะตัะฐ
- โ ะะฝะฐะปะธะทะฐ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ
- โ ะะดะฐะฟัะฐัะธะธ ะดะปั ะดััะณะธั ะทะฐะดะฐะฝะธะน

ะฃะดะฐัะธ ั ะฒัะฟะพะปะฝะตะฝะธะตะผ ะพััะฐะปัะฝัั ะทะฐะดะฐะฝะธะน! ๐